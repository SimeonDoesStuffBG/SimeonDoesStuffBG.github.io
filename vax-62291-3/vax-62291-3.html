<!DOCTYPE html>

<html>
	<head>
		<title>E1113: Кубична текстура</title>
		<meta charset="utf-8">
		
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		
		<script src="three.min.js"></script>
		<script src="vax.js"></script>
	
	</head>
	
	<body>
		<script>
			vaxInitParallax();
			
			camera.fov = 30;
			onWindowResize();
			

			function animate()
			{
				
			}

			window.addEventListener("deviceorientation", deviceOrientation, true);

	var PI = Math.PI;

	function rads(degrees){
    return (degrees * PI)/180;
	}

	function deviceOrientation(event){
   	 var alpha = event.alpha, gamma = event.gamma;

  	  if(alpha === null) return;

  	  if(gamma >=0)
  	      gamma = 90-gamma;
   		 else{
    	    alpha += 180;
      		  gamma = -(90+gamma);
   	 	}

    	alpha = rads(alpha);
   		 gamma = rads(gamma);

    	camera.rotation.set(gamma, alpha, 0, 'YXZ');
	}
			
		</script>
		
	</body>
</html>


